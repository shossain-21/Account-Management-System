@page
@model AccountManagementSystem.Pages.AdminUserSettings.IndexModel

@{
    ViewData["Title"] = "Users";
}

@section Css {
    <partial name="~/Pages/Shared/Datatable/Css.cshtml" />
    <style type="text/css">
    </style>
}

<div class="row mt-4">
    <div class="card">
        <div class="card-header">
            <div class="col m-auto"><p class="mb-0 fw-bold">@ViewData["Title"]</p></div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table id="userTable" data-toggle="datatables" class="table align-items-center table-hover table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                        <tr>
                            <th class="text-center">#</th>
                            <th class="text-center">Full Name</th>
                            <th class="text-center">Email</th>
                            <th class="text-center">Username</th>
                            <th class="text-center">Phone</th>
                            <th class="text-center">Address</th>
                            <th class="text-center">Date of Birth</th>
                            @*<th class="text-center">Role</th>*@
                            <th class="text-center">Action</th>
                        </tr>
                        </tr>
                    </thead>
                    <tbody>
                    <tbody>
                        @for (int i = 0; i < Model.Users.Count; i++)
                        {
                            var user = Model.Users[i];
                            <tr>
                                <td class="text-center">@((i + 1).ToString())</td>
                                <td class="text-center">@user.FirstName @user.LastName</td>
                                <td class="text-center">@user.Email</td>
                                <td class="text-center">@user.UserName</td>
                                <td class="text-center">@user.PhoneNumber</td>
                                <td class="text-center">@user.Address</td>
                                <td class="text-center">@user.DateOfBirth</td>
                                @*<td class="text-center">@user.Role</td>*@
                                <td class="text-center">
                                    <div class="btn-group gap-3">
                                        <a class="btn btn-sm btn-primary px-4 py-2 rounded" asp-page="Edit" asp-route-id="@user.Id">Edit</a>
                                        <form method="post" asp-page-handler="Delete" asp-route-id="@user.Id" class="d-inline" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                            <button type="submit" class="btn btn-sm btn-danger px-3 py-2 rounded">Delete</button>
                                        </form>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                    </tbody>
                </table>
            </div>
            @*<div class="card-footer"></div>*@
        </div>
    </div>
</div>